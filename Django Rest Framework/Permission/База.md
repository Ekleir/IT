Permission необходим, что бы ,например, экземпляры могли создавать все авторизованные пользователи, но редактировать мог только тот, кто создал этот экземпляр.

- Создаем поле в модели, которое будет отвечать за создателя поля, оно будет связано со стандартным классом __User__
![[Pasted image 20230721231039.png]]

- Переопределяем метод, который отвечает за создание в DRF __perform_create__
 присваиваем в данные сериалайзера, после прохождения валидации, данные из запроса пользователя(_если в проекте описано, что создавать данные могут только авторизованные пользователи - __permission_classes__, поле user в request всегда будет_ ) и тогда у нас будет задан User при создании объекта.
![[Pasted image 20230721233611.png]]

- В папке _приложения_ создаём файл __permissions__ и копируем туда класс из DRF
__IsAuthenticatedOrReadOnly__
- и метод из __BasePermission__, который отвечает за разрешение редактирования объектов по id(т.е. не всего списка объектов, а единичных экземпляров)
__def has_object_permission(self, request, view, obj):__

- Дописываем нужное нам условие -  чтобы отправивший запрос пользователь дополнительно был создателем объекта.
![[Pasted image 20230721235541.png]]

- даём классу другое имя
![[Pasted image 20230721235750.png]]
- меняем базовый класс авторизации во view на вновь созданный.
![[Pasted image 20230721235854.png]]

Можно еще добавить возможность редактирования пользователям категории __stuff__
![[Pasted image 20230722005913.png]]
Это поле берётся из __BasePermission__ DRF
![[Pasted image 20230722010042.png]]

