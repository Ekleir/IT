Создаётся отдельный файл в тест пакете _conftest_, в котором будет описываться логика поведения до или после тестов или как будут наполняться данные.
![[Pasted image 20230617190801.png]]
Параметр _autouse_ отвечает за автовыполнение перед каждым тестом
![[Pasted image 20230617191005.png]]

Если необходимо, что бы для каждых тестов были свои условия, то файл с фикстурами и подходящими тестами, помещаем в отдельную папку. Остальные тесты не будут меняться в таком случае.
![[Pasted image 20230617192412.png]]

Если указан scope, то при параметре _session_ эта фикстура запуститься 1 раз за сессию, а при параметре _function_ в непосредственной самой тестовой функции в аргументах указать эту фикстуру, если её работа нужна в этой функции.
![[Pasted image 20230619190053.png]]
![[Pasted image 20230619190315.png]]

Если необходимо выполнить какой-либо код ПОСЛЕ отработки теста (очистка таблицы например), то этот код помещается в фикстуру после слова _yeld_
![[Pasted image 20230619190556.png]]

Так же можно передавать одну фикстуру в другую
![[Pasted image 20230619191311.png]]

