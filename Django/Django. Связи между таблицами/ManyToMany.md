![[Pasted image 20230523142811.png]]
_on_delete_ не нужен
В той модели где добавлена эта связь в админке появится возможность множественного добавления
![[Pasted image 20230523143701.png]]
Отображение этого поля можно изменить в _admin_ через дополнительный параметр _filter_horizontal_ или _filter_vertical_ модели
![[Pasted image 20230523144223.png]]
![[Pasted image 20230523143847.png]]
![[Pasted image 20230523143820.png]]

_Many to many нельзя располагать в _list_display_ или _list_editable_(!)

В ManyToMany добавление экземпляров в поле происходит через метод _add_
При этом метод _save()_ вызывать не надо.
![[Pasted image 20230523211617.png]]
удаление через _remove_

Пока запись не сохранена в БД, нельзя в неё добавлять поля вида ManyToMany
![[Pasted image 20230523212036.png]]

При этом методе связи таблиц создаётся промежуточная таблица в БД, в которой будут указаны связи между таблицами. По-умолчанию Django сам её создаёт. Её можно также указать явно, если она у нас создана
![[Pasted image 20230722151608.png]]
Если в модели есть и ManyToMany и ForeignKey на одну модель, то будет конфликт, так как не понятно что именно пользователь хочет запросить при обратной связи. Для этого необходимо дать __related_name__ полю, обязательно хотя бы одно, второе для удобства.